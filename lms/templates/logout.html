{% extends "main_django.html" %}
{% load i18n static %}
{% load django_markup %}

{% block title %}{% trans "Signed Out" as tmsg %}{{ tmsg | force_escape }} | {{ block.super }}{% endblock %}

{% block bodyclass %}logout-page{% endblock %}

{% block body %}
    <style>
        .logout-page .content-wrapper {
            min-height: calc(100vh - 200px);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .logout-content {
            text-align: center;
            padding: 20px;
        }
        .logout-content h1 {
            font-weight: 700;
            font-size: 2rem;
            margin-bottom: 20px;
        }
    </style>
    
    <div class="logout-content">
        {% if show_tpa_logout_link %}
            <h1>Zostałeś wylogowany</h1>

            <p style="margin-bottom: 20px;">
                <a href="{{ tpa_logout_url }}">Kliknij tutaj</a>, aby usunąć sesję Single Sign-On (SSO).
            </p>

        {% else %}
            {% if enterprise_target %}
                {% comment %}
                    For enterprise SSO flow we intentionally drop learner's session.
                    We are showing this signin message instead of logout message
                    to avoid any confusion for learner in that case.
                {% endcomment %}
                <h1>{% trans "We are signing you in." as tmsg %}{{ tmsg | force_escape }}</h1>

                <p style="margin-bottom: 20px;">
                    To może potrwać chwilę. Jeśli nie zostaniesz przekierowany, przejdź do strony głównej.
                </p>
            {% else %}
                <h1>Zostałeś wylogowany</h1>

                <p style="margin-bottom: 20px;">
                    Jeżeli nie zostaniesz przekierowany w ciągu 5 sekund, <a href="{{ target }}">kliknij tutaj aby przejść do strony głównej</a>.
                </p>
            {% endif %}

            <script type="text/javascript" src="{% static 'js/jquery.allLoaded.js' %}"></script>
            <script type="text/javascript" src="{% static 'js/logout.js' %}"></script>
        {% endif %}

        <div id="iframeContainer" style="visibility: hidden" data-redirect-url="{{ target }}">
            {% for uri in logout_uris %}
                <iframe src="{{ uri }}"></iframe>
            {% endfor %}
        </div>
    </div>
{% endblock body %}
